

; CREF.MAC;1 & CREF.OLD;1 20-AUG-75 1048	PAGE 1



LINE 64, PAGE 24
1)	PROGNP:
1)	;HERE WHEN CONVERTING TENEX DIRECTORY NAME TO DIRRECTORY NUMBER
1)	
1)		PUSHJ	P,TTYIN
1)		SOSLE	FLAG
1)		IDPB	C,ASCCNT
1)		JUMPE C,FLDRT5		;BLANKS ONLY ALLOWED IN 1050 NUMBERS
1)		CAIL	C,"A"		;IS IT BETWEEN A & z
1)		CAILE	C,"z"
1)		JRST	FLDRT4		; PROCED WITH 10/50 NUMBER
1)		PUSH	P,TEMP
1)		PUSH	P,TEMP1
1)		PUSH	P,RC
1)		HRLI	TEMP1,440700
1)		HRRI	TEMP1,1(P)
1)		SETZM	RC
1)		MOVEI	TEMP,^D8
1)	FLDRT0:	PUSH	P,RC
1)		SOJG	TEMP,FLDRT0
1)		MOVEI	RC,^D39
1)		JRST	FLDRT2
1)	FLDRT1:	PUSHJ	P,TTYIN
1)		SOSLE	FLAG
1)		IDPB	C,ASCCNT
1)	
1)	FLDRT2:	CAIE C,"]"
1)		CAIN C,">"
1)		JRST	FLDRT3
1)		IDPB C,TEMP1
1)		SOSLE	RC
1)		JRST FLDRT1
1)		SETOM	SYNERR
1)		JRST	GETIOC
1)	FLDRT3:	MOVSI TEMP,400000
1)		IDPB TEMP,TEMP1
1)		SUB	P,[XWD 8,8]
1)		HRROI	TEMP1,1(P)
1)		JSYS	40		;STDIR
1)		JFCL
1)		JRST	[SETOM	 SYNERR
1)			JRST	GETIOC]
1)		HRLI	TEMP,1
1)		MOVEM	TEMP,ACPPN
1)		POP	P,RC
1)		POP	P,TEMP1
1)		POP	P,TEMP
1)		JRST	GETIOC
1)	


; CREF.MAC;1 & CREF.OLD;1 20-AUG-75 1048	PAGE 2


1)	FLDRT4:	MOVEI	ACTMP,-"0"(C)
1)		PUSHJ	P,TTI8B
1)		SKIPA
1)	FLDRT5:	PUSHJ	P,TTI8		;BUILD A PROJECT, PROGRAMMER NUMBER
1)		CAIE	C,","
LINE 64, PAGE 24
2)	PROGNP:	PUSHJ	P,TTI8		;BUILD A PROJECT, PROGRAMMER NUMBER
2)		CAIE	C,","


LINE 122, PAGE 33
1)	LINE 122, PAGE 33
2)	2)	